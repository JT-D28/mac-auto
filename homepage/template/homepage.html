{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>首页</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="{% static 'homepage/layui/css/layui.css' %}" media="all">
    <link rel="stylesheet" href="{% static 'homepage/layui/css/layuimini.css' %}" media="all">
    <script src="https://cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script>
    <link rel="stylesheet" href="{% static 'homepage/layui/css/public.css' %}" media="all">
    <style>
        .layui-card {
            border: 1px solid #f2f2f2;
            border-radius: 5px;
        }

        .layuimini-qiuck-module {
            text-align: center;
            margin-top: 10px
        }

        .layuimini-qiuck-module a i {
            display: inline-block;
            width: 100%;
            height: 60px;
            line-height: 60px;
            text-align: center;
            border-radius: 2px;
            font-size: 30px;
            background-color: #F8F8F8;
            color: #333;
            transition: all .3s;
            -webkit-transition: all .3s;
        }

        .layuimini-qiuck-module a cite {
            position: relative;
            top: 2px;
            display: block;
            color: #666;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
            font-size: 14px;
        }

        .welcome-module {
            width: 100%;
            height: 210px;
        }

    </style>
</head>
<body>
<!--<div class="layuimini-container">-->
<div class="layuimini-main">


    <div class="layui-row layui-col-space15">
        <div class="layui-col-xs12 layui-col-md3">
            <div class="layui-card">
                <div class="layui-card-header" style="padding: 0 0">
                    <form class="layui-form" action="">
                        <div class="layui-form-item" style="margin-bottom: 0">
                            <div class="layui-input-inline" style="width: 40%;margin-right: 5%">
                                <select id='product' name="product" lay-filter="product"
                                        lay-verify="required" lay-search>
                                    <option value=''>选择项目</option>
                                </select>
                            </div>
                            <div class="layui-input-inline" style="width: 55%;margin-right: 0px">
                                <select name="plan" lay-filter="plan" lay-verify="required" lay-search>
                                    <option value=''>选择计划</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="layui-card-body">
                    <div class="welcome-module">
                        <div class="layui-row layui-col-space10 layuimini-qiuck">
                            <div class="layui-col-xs4 layuimini-qiuck-module">
                                <a href="javascript:;" data-iframe-tab="page/menu.html" data-title="菜单管理"
                                   data-icon="fa fa-window-maximize">
                                    <i id='runplan' class="layui-icon layui-icon-play"></i>
                                    <cite>运行计划</cite>
                                </a>
                            </div>
                            <div class="layui-col-xs4 layuimini-qiuck-module">
                                <a href="javascript:;" data-iframe-tab="page/setting.html" data-title="系统设置"
                                   data-icon="fa fa-gears">
                                    <i id='setplan' class="layui-icon layui-icon-set"></i>
                                    <cite>项目设置</cite>
                                </a>
                            </div>
                            <div class="layui-col-xs4 layuimini-qiuck-module">
                                <a href="javascript:;" data-iframe-tab="page/table.html" data-title="表格示例"
                                   data-icon="fa fa-file-text">
                                    <i id='editplan' class="layui-icon layui-icon-code-circle"></i>
                                    <cite>跳转编辑</cite>
                                </a>
                            </div>
                            <div class="layui-col-xs4 layuimini-qiuck-module">
                                <a href="javascript:;" data-iframe-tab="page/icon.html" data-title="图标列表"
                                   data-icon="fa fa-dot-circle-o">
                                    <i id='repoetplan' class="layui-icon layui-icon-chart-screen"></i>
                                    <cite>最新报告</cite>
                                </a>
                            </div>
                            <div class="layui-col-xs4 layuimini-qiuck-module">
                                <a href="javascript:;" data-iframe-tab="page/icon.html" data-title="图标列表"
                                   data-icon="fa fa-dot-circle-o">
                                    <i id='sendrepoet' class="layui-icon layui-icon-picture"></i>
                                    <cite>发送报告</cite>
                                </a>
                            </div>
                            <div class="layui-col-xs4 layuimini-qiuck-module">
                                <a href="javascript:;" data-iframe-tab="page/icon.html" data-title="图标列表"
                                   data-icon="fa fa-dot-circle-o">
                                    <i id='process' class="layui-icon layui-icon-log"></i>
                                    <cite>运行日志</cite>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="layui-col-xs12 layui-col-md9">
            <div id="echarts-records" style="background-color:#f2f2f2;min-height:400px;padding: 10px;"></div>
        </div>
        <div class="layui-col-xs12 layui-col-md12">
            <table id="demo" lay-filter="test"></table>
        </div>
    </div>

    <div class="layui-collapse " lay-accordion hidden id="settings">
        <div class="layui-colla-item">
            <h2 class="layui-colla-title ">邮箱配置</h2>
            <div class="layui-colla-content">
                <form id='mailconfig' enctype=multipart/form-data method=POST class="layui-form" style="padding: 10px;">
                    <div class="layui-form-item">
                        <label class="layui-form-label">配色方案</label>
                        <div class="layui-input-block">
                            <select name="color_scheme" lay-verify="">
                                <option value="">请选择</option>
                                <option value="blue">blue</option>
                                <option value="red">red</option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">收件人</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" name="to_receive" value="" title="" checked
                                   lay-filter=''>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">抄送</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" name="cc_receive" value="" title="" checked
                                   lay-filter='e'>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">标题</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" name="description" value='' title="" checked
                                   lay-filter=''>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">富文本</label>
                        <div class="layui-input-block">
                        <textarea type="text" class="layui-textarea" id='rich_text' name="rich_text" value="" title=""
                                  checked lay-filter=''></textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">smtp主机</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" name="smtp_host" value='' title="" checked
                                   lay-filter=''>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">smtp端口</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" name="smtp_port" value='' title="" checked
                                   lay-filter=''>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">发送账号</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" name="sender_name" value='' title="" checked
                                   lay-filter=''>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">发送昵称</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" name="sender_nick" value='' title="" checked
                                   lay-filter=''>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">发送密码</label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" name="sender_pass" value='' title="" checked
                                   lay-filter=''>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="layui-colla-item">
            <h2 class="layui-colla-title">钉钉群token</h2>
            <div class="layui-colla-content">
                <div class="layui-form-item">
                    <label class="layui-form-label">token</label>
                    <div class="layui-input-block">
                        <input type="text" name="dingdingtoken" required lay-verify="required" placeholder="请输入token"
                               autocomplete="off" class="layui-input">
                    </div>
                </div>
            </div>
        </div>
        <div class="layui-colla-item">
            <h2 class="layui-colla-title">jenkins-jacoco配置</h2>
            <div class="layui-colla-content">tode</div>
        </div>
    </div>

    <div id="seeprocess" hidden>
        <div class="layui-table">
            <div class="layui-card-body">
                <div id="log_text"></div>
            </div>
        </div>
    </div>

    <!--</div>-->
    <script src="{% static 'homepage/layui/layui.js' %}" charset="utf-8"></script>
    <script src="{% static 'manager/js/utils.js' %}" charset="utf-8"></script>
    <script src="{% static 'homepage/layui/lay-config.js' %}" charset="utf-8"></script>
    <script>
        layui.use(['layer', 'echarts', 'common', 'form', 'jquery', 'element', 'layedit', 'table'], function () {
            var $ = layui.jquery,
                layer = layui.layer,
                echarts = layui.echarts;
            var common = layui.common;
            var element = layui.element;
            var form = layui.form;
            var layedit = layui.layedit;
            var le = layedit.build('rich_text'); //建立编辑器
            var table = layui.table;

            var username = $("#username").text()


            common.ajax('/homepage/queryproduct/', 'post', 'json', {},
                function (data) {
                    console.log('项目名称=>' + data)
                    data = JSON.parse(data)
                    data = data.data
                    for (var index = 0; index < data.length; index++) {
                        $("[name='product']").append("<option value='" + data[index]['id'] + "'>" + data[index]['description'] + "</option>")
                    }
                    layui.form.render('select')
                }
            );


            form.on('select(product)', function (data) {
                var id = $("[name='product']").val()
                common.ajax('/homepage/queryplan/', 'post', 'json', {
                        'id': id
                    }, function (data) {
                        data = JSON.parse(data)
                        if (data.code != '0') {
                            $("[name='plan']").empty()
                            $("[name='plan']").append("<option value=''>选择计划</option>")
                            layui.form.render('select')
                        } else {
                            data = data.data
                            $("[name='plan']").empty()
                            if (data.length != 0) {
                                for (var index = 0; index < data.length; index++) {
                                    $("[name='plan']").append("<option value='" + data[index]['id'] + "'>" + data[index]['name'] + "</option>")
                                }
                            } else {
                                $("[name='plan']").append("<option value=''>该项目下没有计划</option>")
                            }
                            //  chart = echarts.init(document.getElementById('bar'), 'white', {renderer: 'canvas'});
                            //   fetchData(chart)
                            common.ajax('/homepage/reportchart/', 'post', 'json', {
                                planid: $("[name='plan']").val().substr(5)
                            }, function (result) {
                                result = JSON.parse(result)
                                report(result.data, result.code)
                            })
                            layui.form.render('select')
                        }
                    }
                )
            });
            /**
             form.on('select(plan)', function (data) {
                planid = $("[name='plan']").val().substr(5);
                fetchData(chart)
            });

             function fetchData() {  //获取图表
                planid = $("[name='plan']").val().substr(5)
                if (planid != '') {
                    common.ajax('/homepage/reportchart/', 'post', 'json', {
                        planid: $("[name='plan']").val().substr(5)
                    }, function (result) {
                        chart.setOption(result.data);
                    })
                }
            }
             **/
            $('#runplan').click(function () {
                var planid = $("[name='plan']").val().substr(5)
                if (planid == '') {
                    layer.msg("请选择项目和计划！")
                } else {
                    common.ajax('/manager/runplan', 'post', 'json', {ids: planid},
                        function (data) {
                            data = JSON.parse(data)
                            if (data.code == 0) {
                                var mes = "你的任务正在运行中..."
                                layer.msg(mes, {
                                    time: 30000, //20s后自动关闭
                                    shade: 0.2,
                                    shadeClose: true,
                                    btn: ['火速围观', '残忍拒绝'],
                                    yes: function (index, layero) {
                                        window.top.document.getElementById("console").click()
                                        layer.close(index)
                                    }
                                });
                            }
                        })
                }
            })
            $('#editplan').click(function () {
                var planid = $("[name='plan']").val().substr(5)
                if (planid == '') {
                    layer.msg("请选择项目和计划！")
                } else {
                    window.top.document.getElementById("tree").click()
                }
            });//没啥用
            $('#repoetplan').click(function () {
                var planid = $("[name='plan']").val().substr(5)
                if (planid == '') {
                    layer.msg("请选择项目和计划！")
                } else {
                    common.ajax('/homepage/querytaskid/', 'post', 'json', {
                        'planid': planid
                    }, function (data) {
                        data = JSON.parse(data)
                        taskid = data.data
                        if (data.code != 0) {
                            layer.msg(data.msg);
                        } else {
                            var resulturl = '/manager/querytaskdetail/?taskid=' + taskid
                            //window.open(resulturl)
                            layer.open({
                                type: 2,
                                title: false,
                                shade: [0],
                                area: ['90%', '90%'],
                                anim: 2,
                                shadeClose: true,
                                content: [resulturl, 'yes'], //iframe的url，no代表不显示滚动条
                            });
                        }
                    })
                }
            })
            $("#process").click(function () {
                var planid = $("[name='plan']").val().substr(5)
                if (planid == '') {
                    layer.msg("请选择项目和计划！")
                } else {
                    common.ajax('/homepage/querytaskid/', 'post', 'json', {
                        'planid': planid
                    }, function (data) {
                        data = JSON.parse(data)
                        taskid = data.data
                        if (data.code != 0) {
                            layer.msg(data.msg);
                        } else {
                            layer.open({
                                type: 1,
                                id: "log-process",
                                title: false,
                                shade: [0],
                                area: ['90%', '90%'],
                                anim: 2,
                                shadeClose: true,
                                content: $("#seeprocess"),
                                success: function () {
                                    showlog(taskid)
                                }
                            });
                        }
                    })
                }
            })

            function showlog(taskid) {
                $.ajax({
                    url: '/homepage/process/',
                    type: 'POST',
                    dataType: 'json',
                    data: {'taskid': taskid},
                    success: function (res) {
                        res = JSON.parse(res)
                        var log_text = res.data
                        var is_done = res.msg
                        $("#log_text").html(log_text);
                        var ta = document.getElementById('log-process');
                        ta.scrollTop = ta.scrollHeight;//定位到最后
                        if (is_done != 'yes') {
                            window.setTimeout(showlog(taskid), 500);
                        }
                        return false;
                    }
                });
            }

            $("#setplan").click(function () {
                var planid = $("[name='plan']").val().substr(5)
                if (planid == '') {
                    layer.msg("请选择项目和计划！")
                } else {
                    layer.open({
                        title: '报告通知配置',
                        type: 1,
                        area: ['800px', '450px'],
                        content: $('#settings'),
                        btn: ['确定', '取消'],
                        success: function () {
                            $("#mailconfig")[0].reset()
                            layui.form.render()
                            common.ajax('/manager/queryonemailconfig/', 'post', 'json', {id: planid}, function (ee) {
                                op = ''
                                if (typeof (ee) != 'string') {
                                    if (ee.code == 0) {
                                        //赋值form
                                        op = '编辑'
                                        console.log(ee.data)
                                        $("[name='color_scheme']").val(ee.data['color_scheme'])
                                        layui.form.render('select');
                                        $("[name='description']").val(ee.data['description'])
                                        $("[name='rich_text']").val(ee.data['rich_text'])
                                        $("[name='to_receive']").val(ee.data['to_receive'])
                                        $("[name='cc_receive']").val(ee.data['cc_receive'])
                                        $("[name='sender_name']").val(ee.data['sender_name'])
                                        $("[name='sender_nick']").val(ee.data['sender_nick'])
                                        $("[name='sender_pass']").val(ee.data['sender_pass'])
                                        $("[name='smtp_host']").val(ee.data['smtp_host'])
                                        $("[name='smtp_port']").val(ee.data['smtp_port'])
                                        $("[name='dingdingtoken']").val(ee.data['dingdingtoken'])
                                    }
                                } else {
                                    ee = JSON.parse(ee)
                                    if (ee.code == 1) {
                                        op = '新建'
                                        console.log('还未关联邮件 新建一个')
                                    }
                                }
                            })
                        },
                        yes: function (index, layero) {
                            success = function (data) {
                                data = JSON.parse(data)
                                if (data.code == 0) {
                                    layer.close(index)
                                    layer.alert(data.msg, {icon: 1, time: 1500})
                                } else {
                                    layer.alert(data.msg, {icon: 2, time: 2000})
                                }
                            }
                            _post("/manager/editmailconfig/", {
                                id: planid,
                                color_scheme: $("[name='color_scheme']").val(),
                                description: $("[name='description']").val(),
                                // rich_text:$("[name='rich_text']").val(),
                                rich_text: layedit.getContent(le),
                                to_receive: $("[name='to_receive']").val(),
                                cc_receive: $("[name='cc_receive']").val(),
                                sender_name: $("[name='sender_name']").val(),
                                sender_nick: $("[name='sender_nick']").val(),
                                sender_pass: $("[name='sender_pass']").val(),
                                smtp_port: $("[name='smtp_port']").val(),
                                smtp_host: $("[name='smtp_host']").val(),
                                dingdingtoken: $("[name='dingdingtoken']").val(),
                                // is_send_mail:$("[name=apply]").attr('checked')==false?'close':'open',
                            }, success)
                        }
                    });
                }
            })
            $("#sendrepoet").click(function () {
                common.ajax('/homepage/sendreport/', 'post', 'json', {'planid': $("[name='plan']").val().substr(5)}, function (date) {
                    date = JSON.parse(data)
                    if (data.code == 0) {
                        layer.alert("发送成功！", {icon: 1, time: 1500})
                    } else {
                        layer.alert(data.msg, {icon: 2, time: 2000})
                    }
                })
            })


            form.on('select(plan)', function (data) {
                    var planid = $("[name='plan']").val().substr(5)
                    if (planid == '') {
                        layer.msg("请选择项目和计划！")
                    } else {
                        common.ajax('/homepage/reportchart/', 'post', 'json', {
                            planid: $("[name='plan']").val().substr(5)
                        }, function (result) {
                            result = JSON.parse(result)
                            report(result.data, result.code)
                        })
                    }
                }
            );
            echartsRecords = echarts.init(document.getElementById('echarts-records'), 'walden');

            function report(data, code) {
                x = [];
                success = [];
                total = [];
                fail = [];
                skip = [];
                error = [];
                success_rate = []
                hundred = [];
                taskids = [];
                if (code == 0) {
                    title = data[0][1]
                    for (let i = data.length - 1; i >= 0; i--) {
                        x.push(data[i][7])
                        success.push(data[i][2])
                        total.push(data[i][5])
                        fail.push(data[i][3])
                        skip.push(data[i][4])
                        error.push(data[i][9])
                        //mysql  success_rate.push(data[i][8].substr(0, 5))
                        success_rate.push(data[i][8])
                        taskids.push(data[i][6])
                        hundred.push(100)
                    }
                } else {
                    title = data
                }
                var optionRecords = {
                    title: {
                        text: title
                    },
                    animation: false,
                    legend: {
                        left: 'center',
                        data: ['成功率', '成功数', '失败数', '错误数', '跳过数',]
                    },
                    tooltip: {
                        trigger: 'axis',
                        axisPointer: {
                            type: 'cross'
                        },
                        backgroundColor: 'rgba(245, 245, 245, 0.8)',
                        borderWidth: 1,
                        borderColor: '#ccc',
                        padding: 10,
                        textStyle: {
                            color: '#000'
                        },
                        position: function (pos, params, el, elRect, size) {
                            var obj = {top: 10};
                            obj[['left', 'right'][+(pos[0] < size.viewSize[0] / 2)]] = 30;
                            return obj;
                        },
                        extraCssText: 'width: 100px'
                    },
                    axisPointer: {
                        link: {xAxisIndex: 'all'},
                        label: {
                            backgroundColor: '#777'
                        }
                    },
                    toolbox: {
                        feature: {
                            dataZoom: {
                                yAxisIndex: false
                            },
                            brush: {
                                type: ['lineX', 'clear']
                            }
                        }
                    },
                    brush: {
                        xAxisIndex: 'all',
                        brushLink: 'all',
                        outOfBrush: {
                            colorAlpha: 0.1
                        }
                    },
                    grid: [
                        {
                            left: '5%',
                            right: '5%',
                            height: '48%'
                        },
                        {
                            left: '5%',
                            right: '5%',
                            bottom: '3%',
                            height: '20%'
                        }
                    ],
                    xAxis: [
                        {
                            type: 'category',
                            data: x,
                            scale: true,
                            boundaryGap: false,
                            axisLine: {onZero: false},
                            splitLine: {show: false},
                            splitNumber: 20,
                            min: 'dataMin',
                            max: 'dataMax',
                            axisPointer: {
                                z: 100
                            }
                        },
                        {
                            type: 'category',
                            gridIndex: 1,
                            data: x,
                            scale: true,
                            boundaryGap: false,
                            axisLine: {onZero: false},
                            axisTick: {show: false},
                            splitLine: {show: false},
                            axisLabel: {show: false},
                            splitNumber: 20,
                            min: 'dataMin',
                            max: 'dataMax',
                            axisPointer: {
                                label: {
                                    show: false
                                }
                            },
                        }
                    ],
                    yAxis: [
                        {
                            scale: true,
                            name: '用例数',
                            splitArea: {
                                show: true
                            },
                            min: 0,
                        },
                        {
                            scale: true,
                            name: '成功率',
                            gridIndex: 1,
                            splitNumber: 2,
                            axisLabel: {show: true, formatter: '{value}%'},
                            axisLine: {show: true},
                            axisTick: {show: false},
                            splitLine: {show: false},
                            min: 0,
                            max: 100,
                            axisPointer: {
                                label: {
                                    show: false
                                }
                            },
                        }
                    ],

                    series: [
                        {
                            name: ' 总数 ',
                            axisPointer: {show: false},
                            type: 'bar',
                            itemStyle: {
                                normal: {
                                    color: 'rgba(0,0,0,0)',
                                }
                            },
                            data: total
                        },
                        {
                            name: '成功数',
                            type: 'line',
                            areaStyle: {},
                            stack: '总量',
                            data: success,
                            smooth: true,
                            lineStyle: {
                                normal: {opacity: 0.5}
                            }
                        },
                        {
                            name: '失败数',
                            stack: '总量',
                            areaStyle: {},
                            type: 'line',
                            data: fail,
                            smooth: true,
                            lineStyle: {
                                normal: {opacity: 0.5}
                            }
                        },
                        {
                            name: '跳过数',
                            stack: '总量',
                            areaStyle: {},
                            type: 'line',
                            data: skip,
                            smooth: true,
                            lineStyle: {
                                normal: {opacity: 0.5}
                            }
                        },
                        {
                            name: '错误数',
                            stack: '总量',
                            areaStyle: {},
                            type: 'line',
                            data: error,
                            smooth: true,
                            lineStyle: {
                                normal: {opacity: 0.5}
                            }
                        },
                        {
                            type: 'bar',
                            axisPointer: {show: false},
                            xAxisIndex: 1,
                            itemStyle: {
                                normal: {
                                    color: 'rgba(201,155,237,0)',
                                }
                            },
                            yAxisIndex: 1,
                            data: hundred
                        },
                        {
                            name: '成功率',
                            type: 'line',
                            label: {
                                normal: {
                                    show: true,
                                    position: 'top',
                                    color: 'black'
                                }
                            },
                            barWidth: 10,
                            areaStyle: {},
                            xAxisIndex: 1,
                            yAxisIndex: 1,
                            data: success_rate
                        },
                    ]
                };
                $("#echarts-records").css('background-color', 'white')
                echartsRecords.setOption(optionRecords);
            }


            echartsRecords.on('click', function (params) {
                console.log(params)
                taskid = taskids[params.dataIndex]
                table.render({
                    elem: '#demo'
                    , method: 'POST'
                    , url: '/homepage/badresult/' //数据接口
                    , where: {taskid: taskid}
                    , cols: [[ //表头
                        {field: 'casename', title: '用例名', width: "12%", align: "center"}
                        , {field: 'stepname', title: '步骤名', width: "13%", align: "center"}
                        , {field: 'businessname', title: '测试点', width: "13%", align: "center"}
                        , {field: 'itfcheck', title: '数据验证', width: "13%", align: "center"}
                        , {field: 'dbcheck', title: '接口验证', width: "10%", align: "center"}
                        , {field: 'failresult', title: '失败原因', width: "39%", align: "center"}
                    ]], text: {
                        none: '测试全部通过了！'
                    }
                });
            });


            /**
             * 报表功能
             */


            // echarts 窗口缩放自适应
            window.onresize = function () {
                echartsRecords.resize();
            }

        });
    </script>
</body>
</html>

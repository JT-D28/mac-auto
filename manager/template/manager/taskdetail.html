{% load static %}
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>任务详情</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style type="text/css">

body{
	font-family: Microsoft YaHei;
	font-size: 13px;
}
.success{
	color:#009933;
}
.fail{
	color:#FF0033;
}
.skip{
	color:#FF9900;
}
.error{
	color:#FF00FF;
}

table{
	width: 95%;
	margin:auto;
}
th{
	background-color:#3399CC;
	color:#FFFFFF;
}
td{
	background-color:#EEEEEE;
	text-align: center;
}

</style>
</head>
<body>

<h2 style="text-align: center;">[{{detail.planname}}]接口测试报告</h2> <a href="{{local_report_address}}" style="float:right;margin-right:4em;" target="_self"  download="测试报告_{{detail.planname}}">下载</a>
<!-- <p style="color:blue;">计划名[{{detail.planname}}-{{detail.taskid}}]</p> -->
<p class='attribute'><strong>测试结果</strong></p>
<table>
	<tr><th>用例数</th><th>失败数</th><th>成功率</th><th>平均时间</th><th>最小时间</th><th>最大时间</th></tr>
	<tr>
		<td>{{detail.total}}</td>
		<td>{{detail.fail}}</td>
		<td>{{detail.success_rate}}</td>
		<td>{{detail.average}}</td>
		<td>{{detail.min}}</td>
		<td>{{detail.max}}</td></tr>
</table>

<strong>测试详情</strong>
{% for case in detail.cases %}
<p style="text-indent:2em;" ><strong>用例名[{{case.casename}}]</strong></p>

<!-- <tr><th>执行序号</th><th>结果</th><th>耗时(ms)</th><th>步骤名称</th><th>测试点</th><th>api</th><th>接口验证</th><th>数据验证</th><th>消息</th></tr> -->
 {% for itercount,s in case.steps.items %}
 <p style="text-indent:3em;" ><strong>第{{itercount}}次迭代</strong></p>
	<table style="overflow-x: scroll;">
	<tr><th>序号</th><th>结果</th><th>耗时(ms)</th><th>步骤名称</th><th>测试点</th><th>api</th><th>接口验证</th><th>数据验证</th><th>消息</th></tr>
 	{% for step in s %}
		 <tr>
		 	<td style="width:100px;">{{step.num}}</td>
		 	<td style="width:80px;" class='{{step.result}}'>{{step.result}}</td>
		 	<td style="width:80px;">{{step.spend}}</td>
		 	<td style="width:200px;" title="{{step.stepname}}">{{step.stepname}}</td>
		 	<td style="width:200px;" title="{{step.businessname}}">{{step.businessname}}</td>
			<td style="width:200px;max-width:250px;text-overflow:ellipsis;overflow:hidden;" title="{{step.api}}">{{step.api}}</td>
		 	<td style="width:100px;max-width:250px;text-overflow:ellipsis;overflow:hidden;" title="{{step.itf_check}}">{{step.itf_check}}</td>
		 	<td style="width:100px;">{{step.db_check}}</td>
		 	<td>{{step.error}}</td>
		 </tr>
 	{% endfor %}

	</table>
 {% endfor %}

{% endfor %}


    
</body>
</html>
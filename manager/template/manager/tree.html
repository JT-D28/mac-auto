{% load static %}
<!DOCTYPE html>
<html style="height: 100%">
<head>
    <meta charset="utf-8">
    <title>树组件</title>
    <link rel="stylesheet" type="text/css" href="{% static 'manager/ztree/zTreeStyle.css' %}">
    <!--   <link rel="stylesheet" type="text/css" href="{% static 'manager/ztree/demo.css' %}"> -->
    <link rel="stylesheet" type="text/css" href="{% static 'manager/icomoon/style.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'manager/font-awesome-4.7.0/css/font-awesome.min.css' %}">

    <link rel="stylesheet" type="text/css" href="{% static 'manager/bootstrap/bootstrap.min.css' %}">
    <link href="{% static 'manager/bootstrap-fileinput-master/css/fileinput.css' %}" media="all" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'manager/bootstrap-fileinput-master/themes/explorer-fas/theme.css' %}" media="all"
          rel="stylesheet" type="text/css"/>

    <link rel="stylesheet" type="text/css" href="{% static 'manager/layui/css/layui.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'manager/css/rightMenu.css' %}">


    <style type="text/css">

        span {
            font-size: 14px;
            font-family: PingFang-SC-Regular, PingFang-SC;
            font-weight: 400;
            color: rgba(51, 51, 51, 1);
            line-height: 20px;
        }

        .layui-tree-entry {
            height: auto;
            padding: 4px 0;
        }

        .layui-tree-iconClick {
            margin-right: 8px;
            margin-left: 0px;
        }

        .layui-table-view {
            margin: 0 0;
        }

        .layui-table th, .layui-table td {
            font-size: 12px;
        }

        .card {
            padding: 0 25px;
            line-height: 30px;
            height: 30px;
        }

        .ztree li span.button.add {
            margin-left: 2px;
            margin-right: -1px;
            background-position: -144px 0;
            vertical-align: top;
            *vertical-align: middle
        }

        .ztree li span.button.diy01_ico_open, .ztree li span.button.diy01_ico_close {
            margin-right: 2px;
            background: url(../../static/manager/ztree/img/diy/1_open.png) no-repeat scroll 0 0 transparent;
            vertical-align: top;
            *vertical-align: middle
        }

        .ztree li span.button.diy02_ico_docu {
            margin-right: 2px;
            background: url(../../static/manager/ztree/img/diy/2.png) no-repeat scroll 0 0 transparent;
            vertical-align: top;
            *vertical-align: middle
        }

        .ztree li span.button.diy03_ico_docu {
            margin-right: 2px;
            background: url(../../static/manager/ztree/img/diy/3.png) no-repeat scroll 0 0 transparent;
            vertical-align: top;
            *vertical-align: middle
        }

        .fa {

            /*color: #FF6699;*/
            color: #009688;

        }

        .btn {
            width: 72px;
            height: 34px;
            background: rgba(0, 151, 136, 1);
            border-radius: 0px 2px 2px 0px;
        }

        .btn-text {
            width: 24px;
            height: 17px;
            font-size: 12px;
            font-family: PingFang-SC-Medium, PingFang-SC;
            font-weight: 500;
            color: rgba(255, 255, 255, 1);
            line-height: 17px;
        }


        .fa.fa-folder {
            color: #FFCC66;

        }

        .fa.fa-folder-open {
            color: #FFCC66;
        }


    </style>
</head>
<body style="height:100%;">
<script>


    function changeFrameHeight() {
        var ifm = document.getElementById("tree-content");
        ifm.maxHeight = ifm.height = document.documentElement.clientHeight;
    }

    window.onresize = function () {
        changeFrameHeight();
    }
    /**
     function calcPageHeight(doc) {
          var cHeight = Math.max(doc.body.clientHeight, doc.documentElement.clientHeight)
          var sHeight = Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight)
          var height  = Math.max(cHeight, sHeight)
          return height
      }
     var ifr = document.getElementById('tree-content')
     ifr.onload = function() {
      	  //解决打开高度太高的页面后再打开高度较小页面滚动条不收缩
      	  ifr.style.height='0px';
          var iDoc = ifr.contentDocument || ifr.document
          var height = calcPageHeight(iDoc)
          if(height < 490){
          	height = 490;
          }
          ifr.style.height = height + 'px'
      }**/
</script>
<form id='rform' hidden style="padding:10px;">
    <div class="layui-form-item">
        <label class="layui-form-label">待替换文本</label>
        <div class="layui-input-block">
            <input type="text" name="me2url" placeholder="待替换文本" autocomplete="off"
                   class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">替换为</label>
        <div class="layui-input-block">
            <input type="text" name="me2url" placeholder="" autocomplete="off"
                   class="layui-input">
        </div>
    </div>
</form>
<div id='treelist' class="layui-col-md5 " style="max-height:100%;overflow-y:auto;padding: 20px;height: 100%">
    <div class="layui-inline">
        <input type="input" name="" placeholder="search"
               style='padding:0 14px;width:280px;height:34px;background:rgba(255,255,255,1);border-radius:2px;border:1px solid rgba(220,222,224,1);'
               id='search' autocomplete="off"><button id='searchbtn' class="layui-btn" style="vertical-align:revert;height: 34px;line-height: 34px">
        <span class='btn-text'>查询</span></button>
    </div>
    <ul class="contextmenu" id="contextmenu"></ul>
    <ul id="case-manager" class="ztree" style="margin-bottom: 20px;padding:10px 0 0 15px "></ul>

</div>

<div class="layui-col-md7" style="min-height:100%;overflow-y:auto;">
    <iframe id='tree-content' name='tree-content' title="test" scrolling="yes" frameborder="0" src=""
            style="overflow-y:auto;width:100%;" onload="changeFrameHeight()"></iframe>

</div>


<div id="test" hidden class="layui-row" style="height: 100%;">
    <div class="layui-col-md2 " style="height:100%;border-right:4px solid #f6f6f6;overflow-y:auto;">
        <div class="layui-card">
            <div class="layui-card-header card">用例:</div>
            <div class="layui-card-body" style="padding: 0 8px">
                <ul id="demo1"></ul>
            </div>
        </div>
    </div>

    <div class="layui-col-md2 " style="height:100%;border-right:4px solid #f6f6f6;overflow-y:auto;">
        <div class="layui-col-md12" style="height: 45%;overflow-y:auto;">
            <div class="layui-card">
                <div class="layui-card-header card">步骤:</div>
                <div class="layui-card-body" style="padding: 0 8px">
                    <ul id="demo2"></ul>
                </div>
            </div>
        </div>
        <div class="layui-col-md12" style="height: 45%;overflow-y:auto;">
            <div class="layui-card">
                <div class="layui-card-header card">测试点:</div>
                <div class="layui-card-body" style="padding: 0 8px">
                    <ul id="demo3"></ul>
                </div>
            </div>
        </div>
        <div class="layui-col-md12" style="height: 10%;overflow-y:auto;">
            <button type="button" class="layui-btn" id="downloadlog" style="width: inherit">
                <i class="layui-icon">&#xe601;</i> 下载完整日志
            </button>
        </div>
    </div>
    <div id='debuginfo' class="layui-col-md8" style="height:100%;overflow-y:auto;">
        <div class="layui-card-body">
            <div id="log_text"></div>
        </div>
    </div>
</div>


<script src="{% static 'manager/layui/layui.js' %}"></script>
<script src="{% static 'manager/js/jquery.min.js' %}"></script>
<script src="{% static 'manager/js/utils.js' %}"></script>

<script src="{% static 'manager/ztree/jquery.ztree.all.min.js' %}"></script>
<!-- <script src="{% static 'manager/ztree/jquery.ztree.core.min.js' %}"></script> -->
<script src="{% static 'manager/ztree/jquery.ztree.core.js' %}"></script>
<script src="{% static 'manager/ztree/jquery.ztree.excheck.min.js' %}"></script>
<script src="{% static 'manager/ztree/jquery.ztree.exedit.js' %}"></script>
<script src="{% static 'manager/js/mytree_1.js' %}"></script>


<script type="text/javascript">

    console.log($('#rform'))
    tree.init();

    $('#searchbtn').click(function (argument) {
        tree.init($('#search').val())
    });

    window.onload = function () {
        document.documentElement.style.overflow = 'hidden';
    };


    /**    layui.use(['util'], function () {
        var util = layui.util;
        util.fixbar({
            bar1: "↻"
            , css: {right: 10, bottom: '10%'}
            , bgcolor: '#009788'
            , click: function () {
                document.getElementById('tree-content').contentWindow.location.reload();
            }
        });
    });
     **/
</script>
</body>
</html>